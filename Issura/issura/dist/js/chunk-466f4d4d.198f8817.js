(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-466f4d4d"],{"0ccb":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"m-4"},[t.loading?e("div",{staticClass:"row align-items-center justify-content-center h-100"},[t._m(0)]):t._e(),!t.loading&&t.loadSuccess?[e("div",{staticClass:"row justify-content-between mb-4"},[t._m(1),e("div",{staticClass:"col col-auto"},[e("button",{staticClass:"btn btn-primary",on:{click:function(s){return t.$refs.issueFormModal.show()}}},[t._v("Create New")])])]),e("div",{staticClass:"row row-cols-1"},[e("div",{staticClass:"col"},t._l(t.issues,(function(t){return e("IssueCard",{key:t.id,attrs:{issue:t}})})),1)])]:t._e(),e("IssueForm",{ref:"issueFormModal",attrs:{id:"issueFormModal"},on:{"issue-created":t.issueFormIssueCreated}}),t.loading||t.loadSuccess?t._e():e("ProblemAlert",{on:{retry:t.loadData}})],2)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col col-auto"},[e("div",{staticClass:"spinner-border text-primary"},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col"},[e("h2",[t._v("Your Issues")])])}],r=e("f72c"),n=e("103e"),o=e("5bba"),c=e("8742"),l={name:"issues",components:{ProblemAlert:c["a"],IssueCard:o["a"],IssueForm:n["a"]},mixins:[r["s"]],data:function(){return{issues:[],loading:!0,loadSuccess:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,this.fetchUserIssues(this.$store.getters.user.id).then((function(s){t.issues=s,t.loadSuccess=!0,t.loading=!1})).catch((function(){t.loadSuccess=!1,t.loading=!1}))},issueFormIssueCreated:function(t){this.issues.push(t)}}},u=l,d=e("2877"),h=Object(d["a"])(u,i,a,!1,null,"6f9342d9",null);s["default"]=h.exports},"103e":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Modal",{ref:"modal",on:{save:t.submitForm},scopedSlots:t._u([{key:"header",fn:function(){return[e("h5",{staticClass:"modal-title"},[t._v("Create Issue")])]},proxy:!0},{key:"form",fn:function(){return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"issueTitle"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"issueTitle",required:""},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"issueDescription"}},[t._v("Description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{id:"issueDescription",required:""},domProps:{value:t.description},on:{input:function(s){s.target.composing||(t.description=s.target.value)}}})]),null!=t.type?e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"issueStatus"}},[t._v("Status")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.statusId,expression:"statusId"}],staticClass:"form-control custom-select",attrs:{id:"issueStatus",disabled:null==t.statuses||0===t.statuses.length,required:""},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.statusId=s.target.multiple?e:e[0]}}},t._l(t.statuses,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.name)+" ")])})),0)]):t._e(),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"issueAssignee"}},[t._v("Assignee")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.assigneeId,expression:"assigneeId"}],staticClass:"form-control custom-select",attrs:{id:"issueAssignee",disabled:null==t.users||0===t.users.length},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.assigneeId=s.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",selected:""}},[t._v("Unassigned")]),t._l(t.users,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.nickname)+" ("+t._s(s.username)+") ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"issueType"}},[t._v("Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control custom-select",attrs:{id:"issueType",required:""},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.type=s.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"BUG"}},[t._v("Bug")]),e("option",{attrs:{value:"FEA"}},[t._v("Feature")]),e("option",{attrs:{value:"TSK"}},[t._v("Task")]),e("option",{attrs:{value:"OTR"}},[t._v("Other")])])]),null==t.projectIdProp&&null==t.issue?e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"issueProjectId"}},[t._v("Project")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.projectId,expression:"projectId"}],staticClass:"form-control custom-select",attrs:{id:"issueProjectId",required:""},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.projectId=s.target.multiple?e:e[0]}}},t._l(t.projects,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(t._s(s.name)+" ")])})),0)]):t._e()]},proxy:!0}])})},a=[],r=(e("a4d3"),e("e01a"),e("a9e3"),e("f72c")),n=e("714b"),o={name:"IssueForm",components:{Modal:n["a"]},mixins:[r["t"],r["b"],r["v"],r["m"],r["x"]],props:{issue:{type:Object,required:!1},projectIdProp:{type:Number,required:!1}},data:function(){return{title:"",description:"",statusId:-1,assigneeId:-1,type:null,projectId:null,users:[],projects:[],statuses:[]}},mounted:function(){this.loadData()},watch:{type:function(){var t=this;this.fetchIssueStatuses(this.projectId,this.type).then((function(s){t.statuses=s})),this.status=null},projectId:function(){var t=this;null!=this.projectId&&this.projectId>=0&&this.fetchUsersForProject(this.projectId).then((function(s){t.users=s})),this.fetchIssueStatuses(this.projectId,this.type).then((function(s){t.statuses=s}))}},methods:{loadData:function(){var t=this;null!=this.projectIdProp&&(this.projectId=this.projectIdProp),null!=this.projectId&&this.projectId>=0&&this.fetchUsersForProject(this.projectId).then((function(s){t.users=s})),this.fetchUserProjects(this.$store.getters.user.id).then((function(s){t.projects=s})),null!=this.issue&&(this.title=this.issue.title,this.description=this.issue.description,this.assigneeId=this.issue.assigneeId,this.type=this.issue.type,this.projectId=this.issue.projectId,this.statusId=this.issue.statusId)},submitForm:function(){var t=this;null!=this.issue?this.updateIssue(this.title,this.description,this.statusId,this.assigneeId,this.projectId,this.type,this.issue.id).then((function(){t.$emit("issue-updated"),t.$refs.modal.hide()})):this.createIssue(this.title,this.description,this.statusId,this.$store.getters.user.id,this.assigneeId,this.projectId,this.type).then((function(s){t.$emit("issue-created",s),t.$refs.modal.hide()}))},show:function(){this.loadData(),this.$refs.modal.show()}}},c=o,l=e("2877"),u=Object(l["a"])(c,i,a,!1,null,"5c54be9c",null);s["a"]=u.exports},"5bba":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t.mini?t._e():[e("div",{staticClass:"card mb-4 shadow-sm"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(this.issue.title))]),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},["BUG"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-bug"}),t._v(" Bug")]):t._e(),"FEA"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-bolt"}),t._v(" Feature")]):t._e(),"TSK"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-tasks"}),t._v(" Task")]):t._e(),"OTR"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-wrench"}),t._v(" Other")]):t._e(),null!=t.status?e("h6",[t._v("Status: "),e("span",{staticClass:"badge text-dark",style:"background-color: "+this.status.color},[t._v(t._s(this.status.name))])]):t._e(),e("h6",[t._v("Created: "+t._s(this.issue.dateCreated))])]),e("div",{staticClass:"col-8"},[t._v(" Description: "+t._s(this.issue.description)+" ")]),e("div",{staticClass:"col-2 position-static"},[e("button",{staticClass:"btn btn-secondary stretched-link",on:{click:t.viewIssue}},[t._v("View ")])])])])])])],t.mini?[e("div",{staticClass:"row border border-secondary rounded p-1 ml-0"},[e("div",{staticClass:"col"},["BUG"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-bug"})]):t._e(),"FEA"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-bolt"})]):t._e(),"TSK"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-tasks"})]):t._e(),"OTR"===this.issue.type?e("span",[e("i",{staticClass:"fas fa-wrench"})]):t._e(),t._v(" "+t._s(this.issue.title)+" ")]),null!=t.status?e("div",{staticClass:"col"},[t._v(" Status: "),e("span",{staticClass:"badge text-dark",style:"background-color: "+this.status.color},[t._v(t._s(this.status.name))])]):t._e(),e("div",{staticClass:"col-auto position-static"},[e("button",{staticClass:"btn btn-secondary stretched-link btn-sm py-0 px-1",on:{click:t.viewIssue}},[t._v("View ")])])])]:t._e()],2)},a=[],r=e("f72c"),n={mixins:[r["l"]],data:function(){return{status:null}},props:{mini:{type:Boolean},issue:{type:Object,required:!0}},mounted:function(){var t=this;this.fetchIssueStatus(this.issue.statusId).then((function(s){t.status=s}))},methods:{viewIssue:function(){this.$router.push("/project/"+this.issue.projectId+"/issue/"+this.issue.id)}}},o=n,c=e("2877"),l=Object(c["a"])(o,i,a,!1,null,null,null);s["a"]=l.exports},"714b":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("transition",{attrs:{name:"fade"}},[t.shown?e("div",{staticClass:"modal show modalShown"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header")],2),e("div",{staticClass:"modal-body"},[e("form",{ref:"modalForm",staticClass:"needs-validation",class:{"was-validated":t.validated}},[t._t("form")],2)]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.hide}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("Save changes")])])])])]):t._e()]),e("transition",{attrs:{name:"fade"}},[t.shown?e("div",{staticClass:"modal-backdrop fade show"}):t._e()])],1)},a=[],r={name:"Modal",data:function(){return{shown:!1,validated:!1}},methods:{show:function(){this.shown=!0},hide:function(){this.shown=!1},save:function(){this.$refs.modalForm.checkValidity()&&this.$emit("save"),this.validated=!0}}},n=r,o=e("2877"),c=Object(o["a"])(n,i,a,!1,null,"14cb89f4",null);s["a"]=c.exports},8742:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._m(0),t._m(1),e("div",{staticClass:"row justify-content-center"},[e("button",{staticClass:"btn btn-outline-warning",on:{click:t.refresh}},[t._v("Retry")])])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row justify-content-center"},[e("i",{staticClass:"fas fa-exclamation-triangle fa-3x",staticStyle:{color:"#EED202"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row justify-content-center"},[e("p",[t._v("This resource does not exist or there was a network error")])])}],r={name:"ProblemAlert",data:function(){return{}},methods:{refresh:function(){this.$emit("retry")}}},n=r,o=e("2877"),c=Object(o["a"])(n,i,a,!1,null,"746192e5",null);s["a"]=c.exports},a9e3:function(t,s,e){"use strict";var i=e("83ab"),a=e("da84"),r=e("94ca"),n=e("6eeb"),o=e("5135"),c=e("c6b6"),l=e("7156"),u=e("c04e"),d=e("d039"),h=e("7c73"),p=e("241c").f,f=e("06cf").f,v=e("9bf2").f,m=e("58a8").trim,_="Number",b=a[_],I=b.prototype,C=c(h(I))==_,y=function(t){var s,e,i,a,r,n,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),s=l.charCodeAt(0),43===s||45===s){if(e=l.charCodeAt(2),88===e||120===e)return NaN}else if(48===s){switch(l.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+l}for(r=l.slice(2),n=r.length,o=0;o<n;o++)if(c=r.charCodeAt(o),c<48||c>a)return NaN;return parseInt(r,i)}return+l};if(r(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var g,w=function(t){var s=arguments.length<1?0:t,e=this;return e instanceof w&&(C?d((function(){I.valueOf.call(e)})):c(e)!=_)?l(new b(y(s)),e,w):y(s)},j=i?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;j.length>k;k++)o(b,g=j[k])&&!o(w,g)&&v(w,g,f(b,g));w.prototype=I,I.constructor=w,n(a,_,w)}}}]);
//# sourceMappingURL=chunk-466f4d4d.198f8817.js.map