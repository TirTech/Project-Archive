(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50743edf"],{"1da1":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{ref:"modal",on:{save:t.submitForm},scopedSlots:t._u([{key:"header",fn:function(){return[s("h5",{staticClass:"modal-title"},[t._v("Create Project")])]},proxy:!0},{key:"form",fn:function(){return[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"projectName"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"projectName",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"projectDescription"}},[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{id:"projectDescription",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"projectStatus"}},[t._v("Status")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"form-control custom-select",attrs:{id:"projectStatus",required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"OPN"}},[t._v("Open")]),s("option",{attrs:{value:"CLS"}},[t._v("Closed")]),s("option",{attrs:{value:"INA"}},[t._v("Inactive")])])])]},proxy:!0}])})},o=[],r=(s("a4d3"),s("e01a"),s("b0c0"),s("f72c")),n=s("714b"),i={name:"ProjectForm",components:{Modal:n["a"]},mixins:[r["e"],r["z"]],props:{project:{type:Object,required:!1}},data:function(){return{name:"",description:"",status:"",ownerId:-1}},mounted:function(){this.loadData()},methods:{loadData:function(){null!=this.project?(this.name=this.project.name,this.description=this.project.description,this.status=this.project.status,this.ownerId=this.project.ownerId):this.ownerId=this.$store.getters.user.id},submitForm:function(){var t=this;null!=this.project?this.updateProject(this.project.id,this.name,this.description,this.status,this.ownerId).then((function(e){e&&(t.$emit("project-updated"),t.$refs.modal.hide())})):this.createProject(this.name,this.description,this.status,this.ownerId).then((function(e){t.$emit("project-created",e.project),t.$refs.modal.hide()}))},show:function(){this.loadData(),this.$refs.modal.show()}}},c=i,l=s("2877"),d=Object(l["a"])(c,a,o,!1,null,"d483564c",null);e["a"]=d.exports},"714b":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade"}},[t.shown?s("div",{staticClass:"modal show modalShown"},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[t._t("header")],2),s("div",{staticClass:"modal-body"},[s("form",{ref:"modalForm",staticClass:"needs-validation",class:{"was-validated":t.validated}},[t._t("form")],2)]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.hide}},[t._v("Close")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("Save changes")])])])])]):t._e()]),s("transition",{attrs:{name:"fade"}},[t.shown?s("div",{staticClass:"modal-backdrop fade show"}):t._e()])],1)},o=[],r={name:"Modal",data:function(){return{shown:!1,validated:!1}},methods:{show:function(){this.shown=!0},hide:function(){this.shown=!1},save:function(){this.$refs.modalForm.checkValidity()&&this.$emit("save"),this.validated=!0}}},n=r,i=s("2877"),c=Object(i["a"])(n,a,o,!1,null,"14cb89f4",null);e["a"]=c.exports},8742:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._m(1),s("div",{staticClass:"row justify-content-center"},[s("button",{staticClass:"btn btn-outline-warning",on:{click:t.refresh}},[t._v("Retry")])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("i",{staticClass:"fas fa-exclamation-triangle fa-3x",staticStyle:{color:"#EED202"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("p",[t._v("This resource does not exist or there was a network error")])])}],r={name:"ProblemAlert",data:function(){return{}},methods:{refresh:function(){this.$emit("retry")}}},n=r,i=s("2877"),c=Object(i["a"])(n,a,o,!1,null,"746192e5",null);e["a"]=c.exports},acca:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-3"},[t.loading?s("div",{staticClass:"row align-items-center justify-content-center h-100"},[t._m(0)]):t._e(),!t.loading&&t.loadSuccess?[s("div",{staticClass:"row justify-content-between mb-4"},[t._m(1),s("div",{staticClass:"col col-auto"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.$refs.projectFormModal.show()}}},[t._v("Create New")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("table",{staticClass:"table"},[t._m(2),s("tbody",t._l(t.projects,(function(e){return s("tr",{key:e.id},[s("td",[s("router-link",{attrs:{to:"/project/"+e.id}},[t._v(t._s(e.name))])],1),s("td",[t._v(t._s(e.description))]),s("td",[t._v(t._s(e.status))]),s("td",[t._v(t._s(e.ownerId))])])})),0)])])])]:t._e(),s("ProjectForm",{ref:"projectFormModal",attrs:{id:"projectFormModal"},on:{"project-created":t.projectFormProjectCreated}}),t.loading||t.loadSuccess?t._e():s("ProblemAlert",{on:{retry:t.loadData}})],2)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col col-auto"},[s("div",{staticClass:"spinner-border text-primary"},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col"},[s("h2",[t._v("Projects")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Name")]),s("th",{attrs:{scope:"col"}},[t._v("Description")]),s("th",{attrs:{scope:"col"}},[t._v("Status")]),s("th",{attrs:{scope:"col"}},[t._v("Owner Id")])])])}],r=s("f72c"),n=s("1da1"),i=s("8742"),c={name:"Projects",components:{ProblemAlert:i["a"],ProjectForm:n["a"]},mixins:[r["t"],r["u"]],data:function(){return{projects:[],users:[],loading:!0,loadSuccess:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,this.fetchUserProjects(this.$store.getters.user.id).then((function(e){return t.projects=e,t.fetchUsers()})).then((function(e){t.users=e,t.loadSuccess=!0,t.loading=!1})).catch((function(){t.loadSuccess=!1,t.loading=!1}))},projectFormProjectCreated:function(t){this.projects.push(t)}}},l=c,d=s("2877"),u=Object(d["a"])(l,a,o,!1,null,"5701b7c0",null);e["default"]=u.exports},b0c0:function(t,e,s){var a=s("83ab"),o=s("9bf2").f,r=Function.prototype,n=r.toString,i=/^\s*function ([^ (]*)/,c="name";a&&!(c in r)&&o(r,c,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-50743edf.c8efc455.js.map